<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nossa Hist√≥ria ‚ù§Ô∏è</title>

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:Arial, sans-serif;
}

body{
  background:linear-gradient(180deg,#6a0019,#30000b);
  color:white;
  text-align:center;
  overflow-x:hidden;
}

/* Container principal */
.container{
  padding:30px 20px;
  position:relative;
  z-index:1;
}

/* Contadores */
.countdown,.together{
  display:flex;
  justify-content:center;
  gap:12px;
  margin:15px 0;
  flex-wrap:wrap;
}

.box{
  background:rgba(255,255,255,0.15);
  padding:15px;
  border-radius:15px;
  width:85px;
}

.box span{
  font-size:20px;
  font-weight:bold;
  display:block;
}

/* Envelope */
.envelope{
  margin:30px auto;
  width:120px;
  height:80px;
  background:white;
  position:relative;
  cursor:pointer;
  border-radius:6px;
  z-index:2;
}

.envelope::before{
  content:'';
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:#ff1e56;
  clip-path:polygon(0 0,50% 50%,100% 0);
  transition:0.8s;
}

.envelope.open::before{
  transform:rotateX(180deg);
  transform-origin:top;
}

/* Carta corrigida */
.letter{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.85);
  display:flex;
  justify-content:center;
  align-items:center;
  padding:20px;
  opacity:0;
  visibility:hidden;
  transition:0.4s;
  z-index:9999; /* üî• prioridade m√°xima */
}

.letter.show{
  opacity:1;
  visibility:visible;
}

.letterContent{
  background:white;
  color:#6a0019;
  padding:25px;
  border-radius:15px;
  max-width:500px;
  width:100%;
  font-size:16px;
  line-height:1.6;
}

/* P√©talas */
.petal{
  position:fixed;
  top:-20px;
  font-size:20px;
  animation:fall linear forwards;
  z-index:0;
}

@keyframes fall{
  to{
    transform:translateY(110vh) rotate(360deg);
    opacity:0;
  }
}

</style>
</head>
<body>

<div class="container">

<h1>üíñ Nossa Hist√≥ria üíñ</h1>

<h2>Estamos juntos h√°:</h2>
<div class="together">
  <div class="box"><span id="tDays">0</span><small>Dias</small></div>
  <div class="box"><span id="tHours">0</span><small>Horas</small></div>
  <div class="box"><span id="tMinutes">0</span><small>Minutos</small></div>
</div>

<h2>Falta para 1 ano:</h2>
<div class="countdown">
  <div class="box"><span id="days">0</span><small>Dias</small></div>
  <div class="box"><span id="hours">0</span><small>Horas</small></div>
  <div class="box"><span id="minutes">0</span><small>Minutos</small></div>
  <div class="box"><span id="seconds">0</span><small>Segundos</small></div>
</div>

<div class="envelope" onclick="openLetter()" id="envelope"></div>
<p>Clique na carta üíå</p>

</div>

<!-- Carta corrigida -->
<div class="letter" id="letter">
  <div class="letterContent">
    Desde 02/03/2025 minha vida mudou completamente. üíñ<br><br>
    Cada segundo ao seu lado √© especial.<br><br>
    Esse contador n√£o mede tempo‚Ä¶  
    mede o quanto eu te amo.<br><br>
    Obrigado por fazer parte da minha vida. üåπ<br><br>
    <strong>(Toque fora da carta para fechar)</strong>
  </div>
</div>

<audio id="music" loop>
<source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_2f6a77bfa2.mp3?filename=romantic-piano-110624.mp3" type="audio/mp3">
</audio>

<script>

/* Datas */
const startDate=new Date(2025,2,2,0,0,0).getTime();
const anniversary=new Date(2026,2,2,0,0,0).getTime();

/* Atualiza√ß√£o tempo */
setInterval(()=>{
  const now=new Date().getTime();

  const together=now-startDate;
  document.getElementById("tDays").innerText=Math.floor(together/(1000*60*60*24));
  document.getElementById("tHours").innerText=Math.floor((together%(1000*60*60*24))/(1000*60*60));
  document.getElementById("tMinutes").innerText=Math.floor((together%(1000*60*60))/(1000*60));

  const distance=anniversary-now;
  document.getElementById("days").innerText=Math.floor(distance/(1000*60*60*24));
  document.getElementById("hours").innerText=Math.floor((distance%(1000*60*60*24))/(1000*60*60));
  document.getElementById("minutes").innerText=Math.floor((distance%(1000*60*60))/(1000*60));
  document.getElementById("seconds").innerText=Math.floor((distance%(1000*60))/1000);

},1000);

/* P√©talas */
setInterval(()=>{
  const petal=document.createElement("div");
  petal.className="petal";
  petal.innerHTML="üå∏";
  petal.style.left=Math.random()*100+"vw";
  petal.style.animationDuration=(Math.random()*5+5)+"s";
  document.body.appendChild(petal);
  setTimeout(()=>petal.remove(),10000);
},400);

/* Carta + M√∫sica */
function openLetter(){
  document.getElementById("envelope").classList.add("open");
  document.getElementById("letter").classList.add("show");
  document.getElementById("music").play();
}

/* Fecha ao clicar fora */
document.getElementById("letter").addEventListener("click",function(e){
  if(e.target.id==="letter"){
    this.classList.remove("show");
  }
});

</script>

</body>
</html>
